# ๐๏ธ Diagrama do Banco de Dados - AITRON Financeira Multi-Tenant

## ๐ Visรฃo Geral da Estrutura

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                         NรVEL SYSTEM                                 โ
โ                    (Gerenciado pela AITRON)                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  users (tenantId = NULL)                                    โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  id: uuid (PK)                                             โ   โ
โ  โ  email: "fabio@aitron.com.br"                             โ   โ
โ  โ  role: "super_admin"                                       โ   โ
โ  โ  tenantId: NULL  โ SEM TENANT!                            โ   โ
โ  โ  passwordHash: ...                                         โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                      โ
โ  ๐ Super Admins:                                                   โ
โ  - fabio@aitron.com.br / SuperAdmin@123                            โ
โ  - suporte@aitron.com.br / Suporte@123                             โ
โ                                                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                               โ
                               โ cria e gerencia
                               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        NรVEL TENANT                                  โ
โ                   (Empresas Clientes da AITRON)                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  tenants                                                    โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  id: "tenant-uuid-1" (PK)                                  โ   โ
โ  โ  name: "Empresa Exemplo"                                   โ   โ
โ  โ  email: "exemplo@empresa.com.br"                           โ   โ
โ  โ  cpfCnpj: "12345678000190"                                 โ   โ
โ  โ  plan: "pro" | "free"                                      โ   โ
โ  โ  status: "active" | "past_due" | "suspended" | "canceled"  โ   โ
โ  โ  trialStartAt: 2025-10-01                                  โ   โ
โ  โ  trialEndAt: 2025-10-16 (15 dias)                         โ   โ
โ  โ  nextDueAt: 2025-11-01                                     โ   โ
โ  โ  billingMethod: "pix" | "credit_card"                      โ   โ
โ  โ  addressId: uuid (FK โ addresses)                          โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                               โ                                      โ
โ                               โ tem                                  โ
โ                               โผ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  subscription_invoices                                      โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  id: uuid (PK)                                             โ   โ
โ  โ  tenantId: "tenant-uuid-1" (FK โ tenants)                 โ   โ
โ  โ  periodStart: 2025-10-01                                   โ   โ
โ  โ  periodEnd: 2025-10-31                                     โ   โ
โ  โ  dueDate: 2025-11-05                                       โ   โ
โ  โ  amount: 49.90                                             โ   โ
โ  โ  method: "pix"                                             โ   โ
โ  โ  status: "open" | "paid" | "overdue" | "canceled"         โ   โ
โ  โ  paidAt: null                                              โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  subscription_events                                        โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  id: uuid (PK)                                             โ   โ
โ  โ  tenantId: "tenant-uuid-1" (FK โ tenants)                 โ   โ
โ  โ  type: "trial_started" | "payment_succeeded" |             โ   โ
โ  โ        "payment_failed" | "account_suspended"              โ   โ
โ  โ  data: { ... } (JSONB)                                     โ   โ
โ  โ  createdAt: timestamp                                       โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                               โ
                               โ tem
                               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    NรVEL USUรRIOS DO TENANT                          โ
โ              (Equipe que trabalha na Empresa Exemplo)               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  users (tenantId = "tenant-uuid-1")                        โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  id: "user-uuid-1" (PK)                                    โ   โ
โ  โ  tenantId: "tenant-uuid-1" (FK โ tenants) โ COM TENANT!   โ   โ
โ  โ  email: "fabiowebmain@gmail.com"                           โ   โ
โ  โ  role: "admin" | "operator" | "viewer"                     โ   โ
โ  โ  name: "Fabio Web"                                         โ   โ
โ  โ  passwordHash: ...                                         โ   โ
โ  โ  addressId: uuid (FK โ addresses)                          โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                      โ
โ  Exemplo de usuรกrios:                                               โ
โ  โข Admin: fabiowebmain@gmail.com (cria tudo)                       โ
โ  โข Operator: operador@empresa.com (cria clientes/emprรฉstimos)      โ
โ  โข Viewer: viewer@empresa.com (apenas lรช)                          โ
โ                                                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                               โ
                               โ cadastra e gerencia
                               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                      NรVEL CLIENTES                                  โ
โ            (Pessoas que PEGAM emprรฉstimos - NรO fazem login)       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  clients                                                    โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  id: "client-uuid-1" (PK)                                  โ   โ
โ  โ  tenantId: "tenant-uuid-1" (FK โ tenants)                 โ   โ
โ  โ  name: "Joรฃo da Silva"                                     โ   โ
โ  โ  firstName: "Joรฃo"                                         โ   โ
โ  โ  lastName: "Silva"                                         โ   โ
โ  โ  email: "joao@email.com"                                   โ   โ
โ  โ  document: "12345678900"                                   โ   โ
โ  โ  documentType: "cpf" | "cnpj"                              โ   โ
โ  โ  phone: "11999998888"                                      โ   โ
โ  โ  birthDate: 1990-05-15                                     โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                               โ                                      โ
โ                               โ tem                                  โ
โ                               โผ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  addresses (para clients)                                   โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  id: uuid (PK)                                             โ   โ
โ  โ  clientId: "client-uuid-1" (FK โ clients)                 โ   โ
โ  โ  userId: NULL                                              โ   โ
โ  โ  postalCode: "01310100"                                    โ   โ
โ  โ  street: "Av. Paulista"                                    โ   โ
โ  โ  number: "1578"                                            โ   โ
โ  โ  district: "Bela Vista"                                    โ   โ
โ  โ  city: "Sรฃo Paulo"                                         โ   โ
โ  โ  state: "SP"                                               โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                               โ
                               โ recebe
                               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    NรVEL EMPRรSTIMOS                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  accounts (contas bancรกrias do tenant)                     โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  id: "account-uuid-1" (PK)                                 โ   โ
โ  โ  tenantId: "tenant-uuid-1" (FK โ tenants)                 โ   โ
โ  โ  userId: "user-uuid-1" (FK โ users)                       โ   โ
โ  โ  name: "Conta Principal"                                   โ   โ
โ  โ  bankName: "Banco do Brasil"                               โ   โ
โ  โ  type: "checking" | "savings"                              โ   โ
โ  โ  currentBalance: 100000.00                                 โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                               โ                                      โ
โ                               โ financia                             โ
โ                               โผ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  loans                                                      โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  id: "loan-uuid-1" (PK)                                    โ   โ
โ  โ  tenantId: "tenant-uuid-1" (FK โ tenants)                 โ   โ
โ  โ  clientId: "client-uuid-1" (FK โ clients)                 โ   โ
โ  โ  accountId: "account-uuid-1" (FK โ accounts)              โ   โ
โ  โ  createdByUserId: "user-uuid-1" (FK โ users)              โ   โ
โ  โ  principalAmount: 5000.00                                  โ   โ
โ  โ  interestRate: 5.5                                         โ   โ
โ  โ  dueDate: 2025-12-01                                       โ   โ
โ  โ  status: "active" | "overdue" | "paid" | "written_off"    โ   โ
โ  โ  notes: "Emprรฉstimo para capital de giro"                 โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                               โ                                      โ
โ                               โ dividido em                          โ
โ                               โผ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  loan_installments                                          โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  id: uuid (PK)                                             โ   โ
โ  โ  loanId: "loan-uuid-1" (FK โ loans)                       โ   โ
โ  โ  sequence: 1, 2, 3...                                      โ   โ
โ  โ  dueDate: 2025-11-01, 2025-12-01...                       โ   โ
โ  โ  principalDue: 1666.67                                     โ   โ
โ  โ  interestDue: 91.67                                        โ   โ
โ  โ  totalDue: 1758.34                                         โ   โ
โ  โ  paidAmount: 0.00                                          โ   โ
โ  โ  status: "pending" | "paid" | "overdue"                    โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                               โ                                      โ
โ                               โ recebe                               โ
โ                               โผ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  payments                                                   โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  id: uuid (PK)                                             โ   โ
โ  โ  loanId: "loan-uuid-1" (FK โ loans)                       โ   โ
โ  โ  accountId: "account-uuid-1" (FK โ accounts)              โ   โ
โ  โ  amount: 1758.34                                           โ   โ
โ  โ  paymentDate: 2025-11-05                                   โ   โ
โ  โ  type: "installment" | "early" | "late"                    โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                               โ                                      โ
โ                               โ associado a                          โ
โ                               โผ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  installment_payments                                       โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  installmentId: uuid (FK โ loan_installments)              โ   โ
โ  โ  paymentId: uuid (FK โ payments)                           โ   โ
โ  โ  amount: 1758.34                                           โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  account_transactions                                       โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ
โ  โ  id: uuid (PK)                                             โ   โ
โ  โ  accountId: "account-uuid-1" (FK โ accounts)              โ   โ
โ  โ  loanId: "loan-uuid-1" (FK โ loans) [opcional]            โ   โ
โ  โ  paymentId: uuid (FK โ payments) [opcional]                โ   โ
โ  โ  direction: "credit" | "debit"                             โ   โ
โ  โ  amount: 5000.00                                           โ   โ
โ  โ  description: "Emprรฉstimo concedido para Joรฃo"            โ   โ
โ  โ  occurredAt: timestamp                                      โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ Relacionamentos Principais

```
users (tenantId = NULL)  โ SUPER ADMIN
    โ cria e gerencia
tenants
    โ tem
    โโโ users (tenantId = uuid)  โ USUรRIOS DO TENANT
    โโโ clients (tenantId = uuid)  โ CLIENTES
    โโโ accounts (tenantId = uuid)  โ CONTAS
    โโโ loans (tenantId = uuid)  โ EMPRรSTIMOS
    โโโ subscription_invoices
    โโโ subscription_events
    โโโ tickets

clients
    โ recebe
loans
    โ dividido em
loan_installments
    โ recebe
payments โ installment_payments
```

---

## ๐ Tabela de Referรชncia Rรกpida

| Tabela | tenantId? | Quem cria? | Exemplo |
|--------|-----------|------------|---------|
| **users** (super_admin) | โ NULL | Sistema (seed) | fabio@aitron.com.br |
| **tenants** | - | Super Admin | Empresa Exemplo |
| **users** (tenant) | โ UUID | Super Admin ou Tenant Admin | fabiowebmain@gmail.com |
| **clients** | โ UUID | Usuรกrios do Tenant | Joรฃo da Silva |
| **accounts** | โ UUID | Usuรกrios do Tenant | Conta Principal |
| **loans** | โ UUID | Usuรกrios do Tenant | Emprรฉstimo #001 |
| **loan_installments** | โ (herda do loan) | Sistema automรกtico | Parcela 1/12 |
| **payments** | โ (herda do loan) | Usuรกrios do Tenant | Pagamento R$ 1.758,34 |
| **subscription_invoices** | โ UUID | Sistema (cron) | Fatura Out/2025 |
| **subscription_events** | โ UUID | Sistema | trial_started |
| **tickets** | โ UUID | Usuรกrios do Tenant | Ticket #001 |
| **ticket_messages** | โ (herda do ticket) | Tenant ou Super Admin | "Preciso de ajuda..." |

---

## ๐ฏ Exemplos Prรกticos de Queries

### 1๏ธโฃ Super Admin busca TODOS os tenants
```sql
SELECT * FROM tenants;
-- โ Retorna TODOS (sem filtro de tenantId)
```

### 2๏ธโฃ Usuรกrio Tenant busca clientes
```sql
-- Token contรฉm: tenantId = "tenant-uuid-1"
SELECT * FROM clients WHERE tenantId = 'tenant-uuid-1';
-- โ Retorna APENAS clientes do seu tenant
```

### 3๏ธโฃ Usuรกrio Tenant busca emprรฉstimos
```sql
SELECT
  l.*,
  c.name as client_name,
  a.name as account_name
FROM loans l
JOIN clients c ON l.clientId = c.id
JOIN accounts a ON l.accountId = a.id
WHERE l.tenantId = 'tenant-uuid-1';
-- โ Emprรฉstimos + Clientes + Contas do MESMO tenant
```

### 4๏ธโฃ Criar emprรฉstimo (com auditoria)
```sql
INSERT INTO loans (
  id, tenantId, clientId, accountId, createdByUserId,
  principalAmount, interestRate, dueDate, status
) VALUES (
  uuid_generate_v4(),
  'tenant-uuid-1',  -- โ Tenant do usuรกrio
  'client-uuid-1',   -- โ Cliente do tenant
  'account-uuid-1',  -- โ Conta do tenant
  'user-uuid-1',     -- โ Quem criou (auditoria)
  5000.00,
  5.5,
  '2025-12-01',
  'active'
);
```

---

## ๐ Constraints de Seguranรงa

### โ Garantias do Banco

1. **Isolamento por Tenant:**
```sql
-- รndices para performance
CREATE INDEX idx_clients_tenant ON clients(tenantId);
CREATE INDEX idx_loans_tenant ON loans(tenantId);
CREATE INDEX idx_accounts_tenant ON accounts(tenantId);
```

2. **Integridade Referencial:**
```sql
-- Cliente deve pertencer ao mesmo tenant do emprรฉstimo
ALTER TABLE loans
  ADD CONSTRAINT fk_loan_client_tenant
  CHECK (
    (SELECT tenantId FROM clients WHERE id = clientId) = tenantId
  );
```

3. **Usuรกrios Super Admin:**
```sql
-- Super Admin NรO tem tenant
ALTER TABLE users
  ADD CONSTRAINT chk_super_admin_no_tenant
  CHECK (
    (role = 'super_admin' AND tenantId IS NULL) OR
    (role != 'super_admin' AND tenantId IS NOT NULL)
  );
```

---

## ๐ Exemplo Completo: Tenant "Empresa Exemplo"

```
TENANT: Empresa Exemplo (tenant-uuid-1)
  โ
  โโ USUรRIOS (fazem login)
  โ  โโ fabiowebmain@gmail.com (admin)
  โ  โโ operador@empresa.com (operator)
  โ  โโ viewer@empresa.com (viewer)
  โ
  โโ CONTAS BANCรRIAS
  โ  โโ Conta Principal (R$ 100.000,00)
  โ  โโ Conta Reserva (R$ 50.000,00)
  โ
  โโ CLIENTES (NรO fazem login)
  โ  โโ Joรฃo da Silva (CPF: 123.456.789-00)
  โ  โ  โโ Emprรฉstimos:
  โ  โ     โโ R$ 5.000 (3x) - Status: active
  โ  โ     โโ R$ 2.000 (12x) - Status: paid
  โ  โ
  โ  โโ Maria Oliveira (CPF: 987.654.321-00)
  โ  โ  โโ Emprรฉstimos:
  โ  โ     โโ R$ 10.000 (6x) - Status: overdue
  โ  โ
  โ  โโ Empresa XYZ Ltda (CNPJ: 12.345.678/0001-90)
  โ     โโ Emprรฉstimos:
  โ        โโ R$ 50.000 (24x) - Status: active
  โ
  โโ ASSINATURA
     โโ Plano: PRO (R$ 49,90/mรชs)
     โโ Status: active
     โโ Trial: 15 dias (jรก expirado)
     โโ Prรณximo vencimento: 01/11/2025
     โโ Mรฉtodo: PIX
```

---

## โ Checklist de Entendimento

Responda mentalmente:

- [ ] Entendo que **Super Admin NรO tem tenantId**
- [ ] Entendo que **Usuรกrios do Tenant TรM tenantId**
- [ ] Entendo que **Clientes NรO fazem login** (apenas cadastrados)
- [ ] Entendo que **TODAS as tabelas de negรณcio** tรชm `tenantId`
- [ ] Entendo que **middleware filtra automaticamente** por `tenantId`
- [ ] Entendo que **Super Admin รฉ exceรงรฃo** (vรช todos os tenants)

---

Ficou claro agora? Quer que eu explique alguma parte especรญfica mais detalhadamente?
